exports.id=822,exports.ids=[822],exports.modules={43365:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_components_DormDisplay});var n=i(60080),a=i(9885),o=i(34972),s=i.n(o),l=i(10413),r=i.n(l),c=i(61522),d=i(23509),h=i(72586),m=i(65099),u=i(90393),p=i.n(u);let Details_Header=function({title:e,location:t}){let i=(0,h.Z)("(max-width:860px)");return(0,n.jsxs)("div",{className:p().header,children:[n.jsx("a",{href:i?"/map":"/",className:p().btn,children:n.jsx(m.Z,{sx:{color:"white"}})}),(0,n.jsxs)("div",{className:p().bold,children:[" ",e," "]}),(0,n.jsxs)("div",{className:p().location,children:[" ",t," "]})]})};var x=i(25262),v=i(15705),g=i(71609),b=i.n(g);let components_Details=function({title:e,path:t,path2:i,path3:o,available:l,bed_laundry:h,rooms:m,moreInfo:u,description:p,location:g,pic:_,pro:j,con:w,changeDetail:f}){let[y,S]=(0,a.useState)(!0),[C,N]=(0,a.useState)(!0),[R,P]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let getReviews=async()=>{try{let e=await (0,c.PL)((0,c.hJ)(d.db,o));P(e.docs.map(e=>({...e.data()}))),S(!1)}catch(e){console.error("Error fetching documents:",e)}};getReviews()},[o]),(0,n.jsxs)("div",{className:b().container,children:[C&&(0,n.jsxs)("div",{className:b().leftContainer,children:[n.jsx(Details_Header,{title:e,location:g},e),n.jsx("img",{alt:"dorm",src:_,className:b().dormPic}),(0,n.jsxs)("div",{className:b().info,children:[(0,n.jsxs)("div",{className:b().sum,children:[y?n.jsx(r(),{width:"100%",height:"35px"}):n.jsx("div",{className:b().data,children:R?.map(e=>n.jsxs("div",{className:b().reviewData,children:[e.Rate.toFixed(1),n.jsx(s(),{index:e.index,name:"read-only",value:e.Rate,precision:.5,readOnly:!0},"{element}"),e.nReviews," reviews"]},e.nReviews))}),(0,n.jsxs)("div",{children:[" ",l," "]}),(0,n.jsxs)("div",{children:[" ",h," "]}),(0,n.jsxs)("div",{style:{fontSize:"14px"},children:[" ",m," "]})]}),n.jsx("hr",{}),n.jsx(x.Z,{pro:j,con:w},j),n.jsx("a",{className:b().link,href:u,target:"_blank",rel:"noreferrer",children:"View more about room, bathroom, and amenities"}),n.jsx("hr",{}),n.jsx("div",{className:b().text,children:(0,n.jsxs)("div",{style:{fontSize:"14px"},children:[" ",p," "]})}),n.jsx("hr",{}),n.jsx(v.Z,{path:t,path2:i,path3:o})]})]}),n.jsx("div",{className:b().btn,onClick:()=>void(f(),N(!C)),children:C?n.jsx("img",{alt:"",src:"//maps.gstatic.com/tactile/pane/arrow_left_2x.png",className:b().img}):n.jsx("img",{alt:"",src:"//maps.gstatic.com/tactile/pane/arrow_left_2x.png",className:b().imgR})})]})};var _=i(76786),j=i(91445),w=i.n(j);let _components_DormDisplay=function({Content:e,floor:t,Pro:i,Con:o}){let[s,l]=(0,a.useState)(!0);return(0,n.jsxs)("div",{className:w().container,children:[n.jsx(components_Details,{title:e.title,path:e.path,path2:e.path2,path3:e.path3,available:e.available,bed_laundry:e.bed_laundry,rooms:e.rooms,moreInfo:e.moreInfo,description:e.description,location:e.location,pic:e.pic,pro:i,con:o,changeDetail:()=>void l(!s)}),s?n.jsx("div",{className:w().placeholder,children:" "}):null,n.jsx(_.Z,{displayDetail:s,floor:t})]})}},56169:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_components_DormDisplayMobile});var n=i(60080),a=i(65099),o=i(9885),s=i.n(o),l=i(61522),r=i(34972),c=i.n(r),d=i(10413),h=i.n(d),m=i(23509),u=i(25262),p=i(15705),x=i(41581),v=i(89817);let g=v.ZP.div`
  ${({theme:e})=>v.iv`
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
      "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans",
      "Helvetica Neue", sans-serif;
    background: white;
    box-shadow: 0px 1px 8px rgb(0 0 0 / 30%);
    border-radius: 8px;
    margin: auto;
    width: auto;
    height: 100%;
    padding: 0px 12px;
    z-index: 3;
    position: relative;
  `}
`;v.ZP.button`
  ${({theme:e})=>v.iv`
    backgroundcolor: pink;
    cursor: pointer;
    border: none;
    padding: 8px;
    border-radius: 100%;
    position: absolute;
    right: 16px;
    &:hover {
      background: ${e.surfaceHover};
    }
  `}
`,v.ZP.p`
  ${({theme:e})=>v.iv`
    color: ${e.onSurface};
  `}
`;let b=v.ZP.div`
  display: flex;
  position: relative;
  justify-content: center;
  padding-bottom: 16px;
`,_=v.ZP.div`
  ${({theme:e})=>v.iv`
    display: flex;
    flex-direction: column;
    text-align: center;
    justify-content: center;
    & h1 {
      color: ${e.onSurface};
      font-size: 1.125rem;
      line-height: 1.5;
      margin: 0;
    }
    & h2 {
      color: ${e.onSurfaceSecondary};
      font-size: 0.875rem;
      line-height: 1;
      font-weight: 600;
      margin: 0;
    }
  `}
`,j=v.ZP.div`
  ${({bodyheight:e})=>v.iv`
    width: calc(100vw - 24px);
    height: ${e}px;
    transition: height 200ms;
  `}
`,w=v.ZP.div`
  width: 100%;
  display: flex;
  justify-content: center;
  cursor: move; /* fallback if grab cursor is unsupported */
  ${e=>e.dragging?v.iv`
          cursor: grabbing;
          cursor: -moz-grabbing;
          cursor: -webkit-grabbing;
        `:v.iv`
          cursor: grab;
          cursor: -moz-grab;
          cursor: -webkit-grab;
        `}
`,f=v.ZP.div`
  ${({theme:e})=>v.iv`
    background: #ddd;
    width: 64px;
    margin: 8px auto;
    height: 0.25rem;
    border-radius: 4px;
  `}
`,syncHeight=()=>{document.documentElement.style.setProperty("--window-inner-height",`${window.innerHeight}px`)},y={collapsed:"in collapse state",dismissed:"was dismissed",expanded:"is expanded",snapToTop:"snapped to top"},useReduceMotion=()=>{let[e,t]=s().useState(window.matchMedia("(prefers-reduced-motion: reduce)").matches);return s().useEffect(()=>{let e=window.matchMedia("(prefers-reduced-motion: reduce)"),handleChange=()=>{t(e.matches)};return handleChange(),e.addEventListener("change",handleChange),()=>{e.removeEventListener("change",handleChange)}},[]),e},S=window.innerHeight,C=-9,N=580;window.addEventListener("resize",syncHeight),syncHeight();let BottomSheet=({children:e,closeButtonAriaLabel:t="Close",initialDrawerDistanceTop:i=C,isDebugMode:a,imgSrc:l,isOpen:r,maxWidth:c=N,onClose:d,onStatusChange:h,subtitle:m,title:u})=>{let p=(0,o.useRef)(null),[v,R]=s().useState(-S),[P,k]=s().useState(null),[D,M]=s().useState(!1),[E,Z]=s().useState(!0),B=useReduceMotion(),F=(0,x.q_)({bottom:v,immediate:B,config:{friction:20}}),handlePointerDown=e=>{let t=e?.touches!=null?e.touches[0]:e;document.documentElement.classList.add("is-locked");let i=(e.currentTarget.parentElement?.getBoundingClientRect().bottom??0)-t.clientY-158;Z(9!==v),k(i)},L=s().useCallback(e=>{let t=e?.touches!=null?e?.touches[0]:e;if(null!=P){let e=window.innerHeight-t.clientY-P;e!==v&&R(e)}},[v,P]),handleScrollRepositioning=()=>{p&&p.current&&(p.current.scrollTop=0)},T=s().useCallback(e=>{let t=y[e];h&&h(t)},[h]);return(0,o.useEffect)(()=>{r?(M(!0),T("expanded"),handleScrollRepositioning(),R(-i)):(T("collapsed"),R(-S+75))},[r]),(0,o.useEffect)(()=>{let handlePointerUp=()=>{document.documentElement.classList.remove("is-locked"),null!=P&&(v>-10?(M(!0),T("snapToTop"),R(-i)):v-158<-S+75?(M(!1),T("dismissed"),d(),R(-S+158)):E?(M(!0),T("snapToTop"),R(-i)):(M(!1),T("collapsed"),R(-S+75)),k(null))};return document.addEventListener("touchend",handlePointerUp),document.addEventListener("touchmove",L),document.addEventListener("mouseup",handlePointerUp),document.addEventListener("mousemove",L),()=>{document.removeEventListener("touchend",handlePointerUp),document.removeEventListener("touchmove",L),document.removeEventListener("mouseup",handlePointerUp),document.removeEventListener("mousemove",L)}},[i,E,v,P,L,T,d]),n.jsx(n.Fragment,{children:(0,n.jsxs)(x.q.div,{style:{left:"50%",transform:"translateX(-50%)",position:"fixed",width:"100%",height:S,transition:"height 200ms",zIndex:2,...F},children:[D&&n.jsx("img",{src:l,alt:"dorm",style:{transform:"translate(0, 8px)",width:"100%",height:"150px",objectFit:"cover",backgroundColor:"pink"}}),(0,n.jsxs)(g,{"aria-modal":"true",role:"dialog","aria-labelledby":"BottomSheet-title",children:[(0,n.jsxs)("div",{onMouseDown:handlePointerDown,onTouchStart:handlePointerDown,children:[n.jsx(w,{dragging:null!=P,onDragStart:e=>{e.preventDefault(),e.dataTransfer.setDragImage(new Image,0,0)},draggable:!0,children:n.jsx(f,{})}),n.jsx(b,{children:(0,n.jsxs)(_,{children:[u&&n.jsx("h1",{id:"BottomSheet-title",children:u}),m&&n.jsx("h2",{children:m})]})})]}),n.jsx(j,{ref:p,tabIndex:0,bodyheight:S+v-(u||m?75:135),children:e})]})]})})};var R=i(33083),P=i.n(R);let components_MobileDetailBottomSheet=({content:e,pro:t,con:i})=>{let[a,s]=(0,o.useState)(!0),[r,d]=(0,o.useState)(null),[x,v]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{let getReviews=async()=>{try{let t=await (0,l.PL)((0,l.hJ)(m.db,e.path3));d(t.docs.map(e=>({...e.data()}))),v(!1)}catch(e){console.error("Error fetching documents:",e)}};getReviews()},[e.path3]),n.jsx(BottomSheet,{title:e.title+" \xb7 "+e.location,imgSrc:e.pic,subtitle:e.available,isDebugMode:!1,isOpen:a,onClose:()=>{s(!1)},children:n.jsx("div",{className:P().containerOuter,children:(0,n.jsxs)("div",{className:P().container,children:[x?n.jsx(h(),{width:"100%",height:"35px"}):n.jsx("div",{className:P().data,children:r?.map(e=>n.jsxs("div",{className:P().reviewData,children:[e.Rate.toFixed(1),n.jsx(c(),{index:e.index,name:"read-only",value:e.Rate,precision:.5,readOnly:!0},"{element}"),e.nReviews," reviews"]},e.nReviews))}),n.jsx("div",{style:{marginBottom:"5px"},children:e.bed_laundry}),n.jsx("div",{style:{marginBottom:"10px"},children:e.rooms}),n.jsx("hr",{}),n.jsx("div",{style:{marginBottom:"5px"},children:e.description}),n.jsx("a",{className:P().link,href:e.moreInfo,target:"_blank",rel:"noreferrer",children:"View more about room, bathroom, and amenities"}),n.jsx(u.Z,{pro:t,con:i}),n.jsx("hr",{style:{marginTop:"20px"}}),n.jsx(p.Z,{path:e.path,path2:e.path2,path3:e.path3,isMobile:!0})]})})})};var k=i(76786);let _components_DormDisplayMobile=function({Content:e,floor:t,Pro:i,Con:o}){return(0,n.jsxs)(n.Fragment,{children:[n.jsx("a",{href:"/map",style:{position:"absolute",padding:"5px",paddingLeft:"3px",left:"12px",top:"20px",zIndex:1,height:"15px",width:"15px"},children:n.jsx(a.Z,{style:{height:"15px",color:"#2f2f2f"}})}),n.jsx(k.Z,{displayDetail:!0,floor:t}),n.jsx(components_MobileDetailBottomSheet,{content:e,pro:i,con:o})]})}},76786:(e,t,i)=>{"use strict";i.d(t,{Z:()=>components_FloorPlan});var n=i(60080),a=i(9885),o=i(72586),s=i(99646);let FloorPlan_ZoomPanPinch=({src:e})=>n.jsx("div",{style:{width:"100vw",height:"100vh",cursor:"grab"},children:n.jsx(s.d$,{initialScale:1,initialPositionY:10,limitToBounds:!0,centerZoomedOut:!0,centerOnInit:!0,wheel:{step:.5,smoothStep:.01},children:n.jsx(s.Uv,{children:n.jsx("img",{style:{width:"100vw",height:"100vh",objectFit:"contain"},src:e,alt:"floor plan"})})})});var l=i(55766),r=i.n(l);let components_FloorPlan=function({floor:e,displayDetail:t}){let[i,s]=(0,a.useState)(0),l=(0,o.Z)("(max-width:860px)"),c="G"===e.at(e.length-1).title?[...Array(e.length).keys()].reverse():[...Array(e.length).keys(),e.length-1].reverse();function isString(e){return"[object String]"===Object.prototype.toString.call(e)}let btnStyle=e=>e===c[i]?l?r().btnClickedMobile:r().btnClicked:l?r().btnMobile:r().btn;return(0,n.jsxs)("div",{className:l?r().containerExpand:t?r().container:r().containerExpand,children:[n.jsx(FloorPlan_ZoomPanPinch,{src:e.at(c[i]).pic}),n.jsx("div",{className:l?r().selectMobile:r().select,children:e.map((e,t)=>n.jsx("div",{onClick:()=>s(isString(e.title)?0:e.title),className:btnStyle(t),children:isString(e.title)?e.title:"L"+e.title},t))}),n.jsx("img",{className:l?r().legendMobile:r().legend,src:l?"/LegendMobile.png":"/Legend.png",alt:"legend"})]})}},25262:(e,t,i)=>{"use strict";i.d(t,{Z:()=>components_ProCon});var n=i(60080),a=i(72586),o=i(17737),s=i.n(o);let ProCon_icon=function({title:e,index:t,pic:i,isMobile:a}){return(0,n.jsxs)("div",{className:a?s().iconsMobile:s().icons,children:[n.jsx("img",{alt:e,src:i}),(0,n.jsxs)("div",{style:{marginTop:"5px",fontSize:"12px"},children:[" ",e," "]})]})};var l=i(64870),r=i.n(l);let components_ProCon=({pro:e,con:t})=>{let i=(0,a.Z)("(max-width:860px)");return(0,n.jsxs)("div",{className:i?r().containerMobile:r().container,children:[(0,n.jsxs)("div",{className:i?r().sectionMobile:r().section,children:[n.jsx("div",{className:r().bold,children:" Pros: "}),n.jsx("div",{className:i?r().subSectionsMobile:r().subSections,children:e?.map((e,t)=>n.jsx(ProCon_icon,{index:e.index,title:e.title,pic:e.pic,isMobile:i},e.title))})]}),(0,n.jsxs)("div",{children:[n.jsx("div",{className:r().bold,children:" Cons: "}),n.jsx("div",{className:i?r().subSectionsMobile:r().subSections,children:t?.map((e,t)=>n.jsx(ProCon_icon,{index:e.index,title:e.title,pic:e.pic,isMobile:i},e.title))})]})]})}},15705:(e,t,i)=>{"use strict";i.d(t,{Z:()=>components_Review});var n=i(60080),a=i(9885),o=i(24937),s=i(23031),l=i(34972),r=i.n(l),c=i(89440),d=i.n(c),h=i(43872),m=i(81932),u=i.n(m),p=i(72586),x=i(61522),v=i(34595),g=i(23509),b=i(54136),_=i.n(b);let j={position:"absolute",height:"calc(100% - 45px)",width:"calc(100% - 30px)",bgcolor:"background.paper",p:4,padding:"15px 15px 30px 15px",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",overflowX:"hidden"},w={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:550,height:500,bgcolor:"background.paper",boxShadow:24,borderRadius:"18px",p:4,display:"flex",alignItems:"center"},dormReview=function({name:e,path:t,path2:i,open:o,setOpen:s}){let handleClose=(e,t)=>{"backdropClick"!==t&&(s(!1),m(null),N(void 0),S(""),P(!1))},l=(0,x.hJ)(g.db,t),[c,m]=(0,a.useState)(-1),[b,f]=(0,a.useState)(0),[y,S]=(0,a.useState)(""),[C,N]=(0,a.useState)(void 0),[R,P]=(0,a.useState)(!1),[k,D]=(0,a.useState)(""),[M,E]=(0,a.useState)(!1),[Z,B]=(0,a.useState)(!1),[F,L]=(0,a.useState)([]),T=(0,p.Z)("(max-width:860px)");(0,p.Z)("(max-width:460px)"),(0,a.useEffect)(()=>{let getReviews=async()=>{try{let e=await (0,x.QT)((0,x.JU)(g.db,i,"rate"));e.exists()?L(e.data()):L(null)}catch(e){console.error("Error fetching documents:",e)}};getReviews()},[i]),(0,a.useEffect)(()=>{v.v0().currentUser?.reload().then(()=>{v.v0().currentUser?.emailVerified&&B(!0)}).catch(e=>{alert(e.message)})},[(0,v.v0)().currentUser]),(0,a.useEffect)(()=>{v.v0().currentUser?.reload().then(()=>{null!=v.v0().currentUser&&f(v.v0().currentUser.uid)}).catch(e=>{alert(e.message)})},[(0,v.v0)().currentUser]);let handleSubmit=t=>{P(!0),-1===c?(E(!0),D("Please give a rating that's minimum of 0.5"),P(!1)):void 0===C||""===C?(E(!0),D("Please select school year"),P(!1)):((0,x.ET)(l,{dName:e,rate:c,year:C,message:y,uid:b}).then(()=>{null==F?(0,x.pl)((0,x.JU)(g.db,i,"rate"),{Rate:c,nReviews:1}):(0,x.pl)((0,x.JU)(g.db,i,"rate"),{Rate:(F.Rate*F.nReviews+c)/(F.nReviews+1),nReviews:F.nReviews+1}),P(!1),alert("Your message has been submitted\uD83D\uDC4D"),window.location.reload()}).catch(e=>{alert(e.message),P(!1)}),handleClose())};return n.jsx(d(),{open:o,onClose:handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:n.jsx(h.Z,{sx:T?j:w,children:Z?(0,n.jsxs)("form",{className:T?_().formMobile:_().form,onSubmit:handleSubmit,children:[M?n.jsx(u(),{onClose:()=>{E(!1)},severity:"warning",sx:{width:"500px",marginBottom:"5px"},children:k}):null,n.jsx("div",{className:_().bold,children:" Write a review "}),n.jsx("div",{children:" All posts are anonymous "}),n.jsx("label",{className:_().question,children:"Rate for which academic year? *"}),(0,n.jsxs)("select",{value:C,name:"year",required:!0,onChange:e=>N(e.target.value),children:[n.jsx("option",{value:"",children:" --select an option-- "}),n.jsx("option",{value:"2022-2023",children:" 2023 - 2024 "}),n.jsx("option",{value:"2022-2023",children:" 2022 - 2023 "}),n.jsx("option",{value:"2021-2022",children:" 2021 - 2022 "}),n.jsx("option",{value:"2020-2021",children:" 2020 - 2021 "}),n.jsx("option",{value:"2019-2020",children:" 2019 - 2020 "})]}),n.jsx("label",{className:_().question,children:" What is your rating? * "}),n.jsx(r(),{name:"half-rating",size:"large",value:c,defaultValue:0,precision:.5,onChange:(e,t)=>{m(t)},sx:{marginBottom:"10px"}}),n.jsx("label",{className:_().question,children:"What comments do you have?"}),n.jsx("textarea",{maxLength:"400",rows:"5",className:_().textarea,placeholder:"Message",value:y,onChange:e=>S(e.target.value)}),(0,n.jsxs)("div",{className:_().btnS,children:[n.jsx("button",{onClick:handleClose,type:"submit",style:{cursor:"pointer",width:"100px",background:"white",color:"black",border:"1px solid teal",fontSize:"0.9rem",borderRadius:"10px",padding:"5px"},children:"Cancel"}),n.jsx("button",{onClick:handleSubmit,type:"submit",style:{cursor:"pointer",width:"100px",background:R?"#ccc":"#2C5A7B",fontSize:"0.9rem",color:"white",border:"none",borderRadius:"10px",padding:"5px"},children:"Post"})]})]}):(0,n.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"40px"},children:[n.jsx("div",{children:"Please sign - up and verify with your Tufts email first"}),n.jsx("button",{onClick:handleClose,type:"submit",style:{cursor:"pointer",width:"100px",background:"#2C5A7B",color:"white",fontSize:"0.9rem",border:"none",borderRadius:"10px",padding:"5px"},children:"Close"})]})})})},f={position:"absolute",height:"calc(100% - 45px)",width:"calc(100% - 30px)",bgcolor:"background.paper",p:4,padding:"15px 15px 30px 15px",display:"flex",flexDirection:"column",alignItems:"center",overflowY:"auto",overflowX:"hidden"},y={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,borderRadius:"18px",p:4,display:"flex",alignItems:"center"},roomReview=function({name:e,path:t,open:i,setOpen:o}){let handleClose=(e,t)=>{"backdropClick"!==t&&(o(!1),M(!1),b(-1),c(-1),C(-1),R(void 0),k(void 0),w(""))},s=(0,x.hJ)(g.db,t),[l,c]=(0,a.useState)(-1),[m,b]=(0,a.useState)(-1),[j,w]=(0,a.useState)(""),[S,C]=(0,a.useState)(-1),[N,R]=(0,a.useState)(void 0),[P,k]=(0,a.useState)(void 0),[D,M]=(0,a.useState)(!1),[E,Z]=(0,a.useState)(!1),[B,F]=(0,a.useState)(""),[L,T]=(0,a.useState)(!1),[U,q]=(0,a.useState)(!1),[z,I]=(0,a.useState)(0),W=(0,p.Z)("(max-width:460px)"),A=(0,p.Z)("(max-width:860px)");(0,a.useEffect)(()=>{v.v0().currentUser?.reload().then(()=>{null!=v.v0().currentUser&&I(v.v0().currentUser.uid)}).catch(e=>{alert(e.message)})},[(0,v.v0)().currentUser]),(0,a.useEffect)(()=>{v.v0().currentUser?.reload().then(()=>{v.v0().currentUser?.emailVerified&&q(!0)}).catch(e=>{alert(e.message)})},[(0,v.v0)().currentUser]);let handleSubmit=t=>{M(!0),-1===l?(T(!0),F("Please enter your room number"),M(!1)):-1===m?(T(!0),F("Please give a rating that's minimum of 0.5"),M(!1)):void 0===N||""===N?(T(!0),F("Please select school year"),M(!1)):void 0===P||""===P?(T(!0),F("Please select your grade"),M(!1)):(E&&C(S.toString()+" (waitlist)"),(0,x.ET)(s,{dName:e,room:l,rate:m,year:N,lottery:E?S.toString()+" (waitlist)":S,schoolYear:P,message:j,uid:z}).then(()=>{M(!1),alert("Your message has been submitted\uD83D\uDC4D"),window.location.reload()}).catch(e=>{alert(e.message),M(!1)}),handleClose())};return n.jsx(d(),{open:i,onClose:handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:n.jsx(h.Z,{sx:W?f:y,children:U?(0,n.jsxs)("form",{className:A?_().formMobile:_().form,onSubmit:handleSubmit,children:[L?n.jsx(u(),{onClose:()=>{T(!1)},severity:"warning",sx:{width:"500px",marginBottom:"5px"},children:B}):null,n.jsx("div",{className:_().bold,children:" Write a review for room "}),n.jsx("div",{style:{marginBottom:"5px"},children:" All posts are anonymous "}),n.jsx("label",{className:_().question,children:"What was the room number? *"}),n.jsx("input",{style:{width:"150px"},type:"text",pattern:"[0-9]",id:"room",name:"room",onChange:e=>c(e.target.value),required:!0}),n.jsx("label",{className:_().question,children:"What comments do you have?"}),n.jsx("textarea",{id:"textarea",name:"textarea",maxLength:"400",cols:"50",rows:"2",className:_().textarea,placeholder:"Message",value:j,onChange:e=>w(e.target.value)}),n.jsx("hr",{}),W?(0,n.jsxs)(n.Fragment,{children:[n.jsx("label",{children:"Rate for which academic year? *"}),(0,n.jsxs)("select",{value:N,name:"year",required:!0,onChange:e=>R(e.target.value),children:[n.jsx("option",{value:"",children:" --select an option-- "}),n.jsx("option",{value:"2022-2023",children:" 2022 - 2023 "}),n.jsx("option",{value:"2021-2022",children:" 2021 - 2022 "}),n.jsx("option",{value:"2020-2021",children:" 2020 - 2021 "}),n.jsx("option",{value:"2019-2020",children:" 2019 - 2020 "})]}),n.jsx("label",{children:"What is your rating? *"}),n.jsx(r(),{name:"half-rating",size:"large",value:m,defaultValue:0,precision:.5,onChange:(e,t)=>{b(t)},sx:{marginBottom:"10px"}})]}):(0,n.jsxs)("div",{className:_().leftRight,children:[(0,n.jsxs)("div",{className:_().vertical,children:[n.jsx("label",{className:_().question,children:"Rate for which academic year? *"}),(0,n.jsxs)("select",{value:N,name:"year",required:!0,onChange:e=>R(e.target.value),children:[n.jsx("option",{value:"",children:" --select an option-- "}),n.jsx("option",{value:"2022-2023",children:" 2022 - 2023 "}),n.jsx("option",{value:"2021-2022",children:" 2021 - 2022 "}),n.jsx("option",{value:"2020-2021",children:" 2020 - 2021 "}),n.jsx("option",{value:"2019-2020",children:" 2019 - 2020 "})]})]}),(0,n.jsxs)("div",{className:_().vertical,children:[n.jsx("label",{className:_().question,children:"What is your rating? *"}),n.jsx(r(),{name:"half-rating",size:"large",value:m,defaultValue:0,precision:.5,onChange:(e,t)=>{b(t)},sx:{marginBottom:"10px"}})]})]}),W?(0,n.jsxs)(n.Fragment,{children:[n.jsx("label",{className:_().question,children:"What is the lottery number used to get the room? (optional)"}),n.jsx("input",{style:{width:"150px"},type:"text",pattern:"[0-9]",id:"lottery",name:"lottery",onChange:e=>C(e.target.value)}),(0,n.jsxs)("div",{className:_().isWaitlist,children:[n.jsx("input",{type:"checkbox",id:"waitlist_num",name:"waitlist_num",value:"waitlist_num",style:{marginRight:"10px",width:"auto"},onChange:e=>Z(e.target.checked)}),n.jsx("label",{children:" It is a waitlist number"})]}),n.jsx("label",{className:_().question,children:" You were a * "}),(0,n.jsxs)("select",{value:P,name:"year",required:!0,onChange:e=>k(e.target.value),children:[n.jsx("option",{value:"",children:" --select an option-- "}),n.jsx("option",{value:"sophomore",children:" Sophomore "}),n.jsx("option",{value:"junior",children:" Junior "}),n.jsx("option",{value:"senior",children:" Senior "})]})]}):(0,n.jsxs)("div",{className:_().leftRight,children:[(0,n.jsxs)("div",{className:_().vertical,children:[n.jsx("label",{className:_().question,children:"What is the lottery number "}),n.jsx("label",{style:{marginTop:0,textAlign:"left",width:"100%"},children:"used to get the room? (optional)"}),n.jsx("input",{style:{width:"150px"},type:"text",pattern:"[0-9]",id:"lottery",name:"lottery",onChange:e=>C(e.target.value)}),(0,n.jsxs)("div",{className:_().isWaitlist,children:[n.jsx("input",{type:"checkbox",id:"waitlist_num",name:"waitlist_num",value:"waitlist_num",style:{marginRight:"10px",width:"auto"},onChange:e=>Z(e.target.checked)}),n.jsx("label",{children:" It is a waitlist number"})]})]}),(0,n.jsxs)("div",{className:_().vertical,children:[n.jsx("label",{className:_().question,children:" You were a * "}),(0,n.jsxs)("select",{value:P,name:"year",required:!0,onChange:e=>k(e.target.value),children:[n.jsx("option",{value:"",children:" --select an option-- "}),n.jsx("option",{value:"sophomore",children:" Sophomore "}),n.jsx("option",{value:"junior",children:" Junior "}),n.jsx("option",{value:"senior",children:" Senior "})]})]})]}),(0,n.jsxs)("div",{className:_().btnS,children:[n.jsx("button",{onClick:handleClose,type:"submit",style:{cursor:"pointer",width:"100px",background:"white",color:"black",border:"1px solid teal",fontSize:"0.9rem",borderRadius:"10px",padding:"5px"},children:"Cancel"}),n.jsx("button",{onClick:handleSubmit,type:"submit",style:{cursor:"pointer",width:"100px",background:D?"#ccc":"#2C5A7B",fontSize:"0.9rem",color:"white",border:"none",borderRadius:"10px",padding:"5px"},children:"Post"})]})]}):(0,n.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"40px"},children:[n.jsx("div",{children:"Please sign - up and verify with your Tufts email first"}),n.jsx("button",{onClick:handleClose,type:"submit",style:{cursor:"pointer",width:"100px",background:"#2C5A7B",color:"white",fontSize:"0.9rem",border:"none",borderRadius:"10px",padding:"5px"},children:"Close"})]})})})};var S=i(10413),C=i.n(S),N=i(12738),R=i(60951),P=i(57345),k=i.n(P);let reviewTab=({path:e,path2:t})=>{let[i,o]=(0,a.useState)(!0),[s,l]=(0,a.useState)(!0),[r,c]=(0,a.useState)([]),[d,h]=(0,a.useState)([]),handleChange=e=>{if(0===e){l(!0);return}l(!1)};return(0,a.useEffect)(()=>{let getReviews=async()=>{try{let t=await (0,x.PL)((0,x.hJ)(g.db,e));c(t.docs.map(e=>({...e.data()}))),o(!1)}catch(e){console.error("Error fetching documents:",e)}};getReviews()},[e]),(0,a.useEffect)(()=>{let getReviewsRoom=async()=>{try{let e=await (0,x.PL)((0,x.hJ)(g.db,t));h(e.docs.map(e=>({...e.data()}))),o(!1)}catch(e){console.error("Error fetching documents:",e)}};getReviewsRoom()},[t]),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:k().header,children:[n.jsx("div",{className:s?k().bold:null,onClick:()=>handleChange(0),children:"Dorm Review"}),n.jsx("div",{className:s?null:k().bold,onClick:()=>handleChange(1),children:"Room Review"})]}),i?n.jsx(C(),{width:"100%",height:"150px"}):s?0===r.length?n.jsx("div",{className:k().nothing,children:"Be the first to leave a dorm review!"}):r?.map((e,t)=>n.jsx(N.Z,{index:t,year:e.year,rate:e.rate,message:e.message,divider:!0},e.message)):0===d.length?n.jsx("div",{className:k().nothing,children:"Be the first to leave a room review!"}):d?.map((e,t)=>n.jsx(R.Z,{index:t,room:e.room,rate:e.rate,year:e.year,lottery:e.lottery,schoolYear:e.schoolYear,message:e.message,divider:!0},e.message))]})},components_Review=function({path:e,path2:t,path3:i,isMobile:l}){let[r,c]=(0,a.useState)(!1),[d,h]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:_().container,children:[(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"8px"},children:[(0,n.jsxs)("div",{className:l?_().btnMobile:_().btn,onClick:()=>c(!0),children:[n.jsx(o.Z,{sx:{marginRight:"7px",color:"#fad1bf"}}),"Write review for dorm"]}),(0,n.jsxs)("div",{className:l?_().btnMobile:_().btn,onClick:()=>h(!0),children:[n.jsx(s.Z,{sx:{marginRight:"7px",color:"#fad1bf"}}),"Write review for room"]})]}),n.jsx(dormReview,{name:e,path:e,path2:i,open:r,setOpen:c}),n.jsx(roomReview,{name:e,path:t,open:d,setOpen:h}),n.jsx("div",{className:_().reviewSection,children:n.jsx(reviewTab,{path:e,path2:t})})]})}},91445:e=>{e.exports={container:"DormDisplay_container__EN4aF",placeholder:"DormDisplay_placeholder__M895N"}},90393:e=>{e.exports={header:"header_header__X_r0M",btn:"header_btn__jPt5H",invisBtn:"header_invisBtn__4_de_",bold:"header_bold__Ps_ne",location:"header_location__dYLbo"}},71609:e=>{e.exports={container:"details_container__ys2oi",leftContainer:"details_leftContainer__pxR4U",btn:"details_btn__fndAt",reviewData:"details_reviewData__wsvv_",img:"details_img__7T5qN",imgR:"details_imgR__99vTV",dormPic:"details_dormPic__L0cQZ",info:"details_info__rFoA2",sum:"details_sum__ClrmY",data:"details_data__ECnmg",text:"details_text__gdS1x",link:"details_link__Q1LfD"}},55766:e=>{e.exports={container:"FloorPlan_container__ovjT_",containerExpand:"FloorPlan_containerExpand__3pFDS",select:"FloorPlan_select__jKreX",selectMobile:"FloorPlan_selectMobile__Fv2Ul",placeholder:"FloorPlan_placeholder__hg8aB",btnMobile:"FloorPlan_btnMobile__Zvx37",btn:"FloorPlan_btn___cANh",btnClickedMobile:"FloorPlan_btnClickedMobile__795MQ",btnClicked:"FloorPlan_btnClicked__3mlVy",pic:"FloorPlan_pic__chofD",legend:"FloorPlan_legend__pKH7F",legendMobile:"FloorPlan_legendMobile__3lzEn",compass:"FloorPlan_compass__PEb77"}},33083:e=>{e.exports={containerOuter:"MobileDetailBottomSheet_containerOuter__No8zJ",container:"MobileDetailBottomSheet_container__I9tTd",data:"MobileDetailBottomSheet_data___d7Cx",reviewData:"MobileDetailBottomSheet_reviewData__AHMbu",link:"MobileDetailBottomSheet_link__Ccx0B"}},17737:e=>{e.exports={icons:"icon_icons__ut6XG",iconsMobile:"icon_iconsMobile__wAzIm"}},64870:e=>{e.exports={container:"procon_container__sxNl_",containerMobile:"procon_containerMobile__hAjZc",bold:"procon_bold__v87Y_",sectionMobile:"procon_sectionMobile___a1Re",section:"procon_section__gxAmf",subSections:"procon_subSections__ahFca",subSectionsMobile:"procon_subSectionsMobile__4ecuz",iconsMobile:"procon_iconsMobile__JAqHI",icons:"procon_icons__Jig_t"}},54136:e=>{e.exports={container:"review_container__1sCXg",isWaitlist:"review_isWaitlist__ws0Ox",btn:"review_btn__L5DbT",btnMobile:"review_btnMobile__QLWij",section:"review_section__VvmKu",reviewSection:"review_reviewSection__RAVRO",bold:"review_bold__idWsn",btnS:"review_btnS__C1HID",leftRight:"review_leftRight__KD9s9",question:"review_question__Ao505",vertical:"review_vertical__iCiIY",formMobile:"review_formMobile___glHL",form:"review_form__WW_rw"}},57345:e=>{e.exports={header:"reviewTab_header__qq4q2",bold:"reviewTab_bold__C8kH_",nothing:"reviewTab_nothing__oidOf"}}};